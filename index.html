<!DOCTYPE html>
<html>
<head>
    <title>Scavenger Hunt</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="hacker"> <!-- Add the 'hacker' class to body initially -->

    <div id="password-container">
        <h1>Enter the Password check behind the candle box!</h1>
        <input type="password" id="password" placeholder="Password">
        <button id="password-submit">Submit</button>
    </div>
    <div id="container" style="display: none;">
        <h1>Scavenger Hunt</h1>
        <div id="hint-container">
            <p id="hint">Welcome to your gift site! Your adventure starts here.</p>
            <input type="text" id="answer" placeholder="Enter your answer">
            <button id="submit">Submit</button>
        </div>
        <div id="progress-container">
            <h2>Your Progress</h2>
            <ul id="progress-list"></ul>
        </div>
    </div>
    <div id="slideshow-container" style="display: none;">
        <h1>Congratulations!</h1>
        <p>You've successfully hacked the box. Happy Birthday!</p>
        <div id="slideshow"></div>
    </div>

    <script>
        const correctPassword = "yourdork"; // Change this to your desired password
        let passwordEntered = false;

        const passwordContainer = document.getElementById("password-container");
        const passwordInput = document.getElementById("password");
        const passwordSubmitButton = document.getElementById("password-submit");
        const scavengerHuntContainer = document.getElementById("container");
        const slideshowContainer = document.getElementById("slideshow-container");
        const slideshow = document.getElementById("slideshow");

        const happyImages = [
            "pictures/1.jpg", // Replace with your local image URLs
            "pictures/2.jpg",
            "pictures/3.jpg",
            "pictures/4.jpg", // Replace with your local image URLs
            "pictures/5.jpg",
            "pictures/6.jpg",
            "pictures/7.jpg", // Replace with your local image URLs
            "pictures/8.jpg",
            "pictures/9.jpg",
            "pictures/10.jpg", // Replace with your local image URLs
            "pictures/11.jpg",
            "pictures/12.jpg",
            "pictures/13.jpg", // Replace with your local image URLs
            "pictures/14.jpg",
            "pictures/15.jpg",
            "pictures/16.jpg", // Replace with your local image URLs
            // Add more image URLs
        ];

        passwordSubmitButton.addEventListener("click", function () {
            const enteredPassword = passwordInput.value;
            if (enteredPassword === correctPassword) {
                passwordContainer.style.display = "none";
                scavengerHuntContainer.style.display = "block";
            } else {
                alert("Incorrect password. Please try again.");
                passwordInput.value = "";
            }
        });

        const hints = [
            { text: "Only elite hackers can figure this one out, you'll find hints under your candles!", answer: "l3337hax" },
            { text: "You've done well to make it this far, find your next clue on your shirt tags!", answer: "love" },
            { text: "YOUR FINAL TASK, the other shirt tag!", answer: "you" },
            // Add more hints and answers as needed
        ];

        let currentHintIndex = 0;
        const hintElement = document.getElementById("hint");
        const answerInput = document.getElementById("answer");
        const submitButton = document.getElementById("submit");
        const progressList = document.getElementById("progress-list");

        function displayHint(index) {
            hintElement.textContent = hints[index].text;
            answerInput.value = "";
        }

        function checkAnswer(answer) {
            return answer.toLowerCase() === hints[currentHintIndex].answer;
        }

        function goToNextHint() {
            currentHintIndex++;
            if (currentHintIndex < hints.length) {
                displayHint(currentHintIndex);
                const li = document.createElement("li");
                li.textContent = hints[currentHintIndex - 1].text + " (Answer: " + hints[currentHintIndex - 1].answer + ")";
                progressList.appendChild(li);
            } else {
                hintElement.textContent = "Congratulations, you've successfully hacked the box!";
                answerInput.style.display = "none";
                submitButton.style.display = "none";
                initiateSlideshow();
            if (currentHintIndex >= hints.length) {
    initiateHappyBirthdayTheme();
    return;
}

            }
        }

    function initiateSlideshow() {
    scavengerHuntContainer.style.display = "none";
    slideshowContainer.style.display = "block";

    // Add the 'happy' class to the body to transition to the happy theme
    document.body.classList.add("happy");

    let currentImageIndex = 0;

    function showNextImage() {
        if (currentImageIndex < happyImages.length) {
            const image = document.createElement("img");
            image.src = happyImages[currentImageIndex];
            image.className = "image";
            image.style.animation = "fade 3s ease-in-out"; // Apply fade animation
            slideshow.appendChild(image);
            currentImageIndex++;
            image.addEventListener("animationend", function () {
                slideshow.removeChild(image);
                showNextImage();
            });
        }
    }

    showNextImage();
}


        submitButton.addEventListener("click", function () {
            const userAnswer = answerInput.value;
            if (checkAnswer(userAnswer)) {
                goToNextHint();
            } else {
                alert("Incorrect answer. Try again.");
            }
        });

        // Initialize the scavenger hunt
        displayHint(currentHintIndex);
        function initiateHappyBirthdayTheme() {
    // Switch to the happy birthday theme
    document.body.classList.remove("hacker");
    document.body.classList.add("happy");

    // Hide the scavenger hunt container
    scavengerHuntContainer.style.display = "none";

    // Show the slideshow container
    slideshowContainer.style.display = "block";

    // Start the slideshow
    initiateSlideshow();
}

    </script>
</body>
</html>
